# 🎨 절대 색감 테스트 게임

## 📌 프로젝트 소개
미묘하게 다른 색상을 찾아내는 온라인 색감 테스트 게임입니다. 레벨이 올라갈수록 색상 차이가 미묘해져 난이도가 높아지며, 제한 시간 내에 정답을 찾아야 합니다. 콤보 시스템과 피버 모드로 긴장감 넘치는 플레이가 가능하며, Supabase를 활용한 실시간 랭킹 시스템을 제공합니다.

## ⏱️ 바이브코딩 정보
- **총 소요 시간**: 약 90분
- **개발 방식**: AI 페어 프로그래밍 (Claude Code)
- **프롬프트 수**: 19개
- **개발 날짜**: 2025년 10월 4일

## 🛠️ 기술 스택
- **Frontend**: HTML5, CSS3, Vanilla JavaScript
- **Backend**: Supabase (Database & Authentication)
- **Animation**: requestAnimationFrame (부드러운 애니메이션)
- **Deployment**: GitHub Pages / Vercel (정적 호스팅)

## ✨ 주요 기능
- 레벨별 난이도 증가 (색상 차이 감소, 그리드 크기 증가)
- 실시간 타이머 바 (시각적 시간 표시)
- 정답 시 시간 증가 (+15%)
- 오답 시 시간 감소 (-20%)
- 💡 찬스 시스템 (게임당 3회 제공)
- 🔥 콤보 & 피버 모드 시스템
  - 3초 내 연속 정답 시 콤보 증가
  - 5콤보 달성 시 피버 모드 진입 (점수 2배)
  - 오답 또는 시간 지체 시 콤보 리셋
- 🏆 **랭킹 시스템 (Supabase 연동)**
  - 게임 종료 시 닉네임 입력 후 랭킹 등록
  - TOP 10 랭킹 실시간 조회
  - 메인 화면에서 TOP 3 미리보기
  - 메달 시스템 (🥇🥈🥉)
- 게임 시작/종료 화면
- 최종 결과 통계
- 모바일 반응형 디자인

## 게임 방법
1. "시작하기!" 버튼을 눌러 게임 시작
2. 여러 칸 중 미묘하게 다른 색상을 찾아 클릭
3. 정답을 맞추면 레벨 상승 및 시간 증가 (+15%)
4. 오답 시 시간 감소 (-20%)
5. 빠르게 연속 정답 시 콤보 증가 → 5콤보 달성 시 피버 모드 (점수 2배!)
6. 어려울 때는 💡 찬스 버튼 사용 (게임당 3회)
7. 시간이 모두 소진되면 게임 오버

---

## 📝 개발 과정 (프롬프트 히스토리)

> 총 19개의 프롬프트를 통해 게임을 완성했습니다. 각 프롬프트의 원문과 처리 내용을 기록합니다.

### 1. 프로젝트 초기 설정
**프롬프트:**
> 절대 색감 게임을 만들고 싶어. 절대 색감 게임은 여러 개의 칸에 있는 색상 중 미묘하게 다른 하나의 색상을 찾아내는 온라인 테스트 또는 게임을 의미해. 게임 레벨이 올라갈수록 색상의 차이가 미묘해져서 난이도가 높아지는 것이 특징이야.

**처리 내용:**
- HTML 기본 구조 생성 (index.html)
- 게임 로직 구현 (game.js)
  - 레벨별 그리드 크기 증가 (2x2 → 3x3 → 4x4)
  - 레벨별 색상 차이 감소 (50 → 45 → 40...)
  - 점수 시스템 (레벨 × 10점)
- CSS 스타일링 (style.css)
  - 그라디언트 배경
  - 카드형 UI 디자인
  - 호버 효과

### 2. 타이머 시스템 추가
**프롬프트:**
> 지금은 제한시간 같은 것이 없이 틀리면 끝나는데, 각 단계마다 제한시간이 있었으면 좋겠어. 제한시간이 다 닳으면 게임오버, 틀리면 제한시간이 줄었으면 좋겠어

**처리 내용:**
- 10초 제한시간 시스템 구현
- 정답 시 시간 리셋
- 오답 시 3초 감소
- 시간 초과 시 게임 오버
- 타이머 표시 UI 추가

### 3. 타이머 바 시각화
**프롬프트:**
> 시간이 줄어드는걸 시각적으로 표현했으면 좋겠어 바가 줄어드는 느낌으로!

**처리 내용:**
- 타이머 바 컴포넌트 추가
- 시간에 따른 색상 변경
  - 50% 이상: 녹색
  - 25-50%: 주황색
  - 25% 미만: 빨간색
- 바 애니메이션 효과

### 4. 부드러운 애니메이션 적용
**프롬프트:**
> 시간 바가 줄어드는데, 너무 뚝뚝 끊어지게 줄어들어. 연속적으로 줄어들게 할 수 없어?

**처리 내용:**
- requestAnimationFrame 사용으로 부드러운 애니메이션 구현
- 1초 단위 → 프레임 단위 업데이트로 변경
- CSS transition 속성 조정

### 5. 게임 시스템 개선
**프롬프트:**
> 맞추면 남은 시간이 오르고, 틀리면 떨어지는 방식도 괜찮겠다. 속도감 있게 제한시간을 줄이는건 어때, 몇초 남았는지 보여주는 것보다 시간 바로만 보여주는 것도 좋을 것 같아

**처리 내용:**
- 시간 시스템을 초 단위 → 퍼센트 단위로 변경 (100%)
- 정답 시 +15% 시간 증가
- 오답 시 -20% 시간 감소
- 숫자 타이머 제거, 바만 표시
- 초당 감소율 0.5% 설정

### 6. 시간 감소 속도 조정
**프롬프트:**
> 시간이 왜 안줄어들어? 빨리 줄어들었으면 좋겠어

**프롬프트:**
> 훨씬 더 빠르게 해줘 10% 해도 되겠는데

**처리 내용:**
- 초당 감소율 0.5% → 2% → 10%로 변경
- 약 10초면 게임 오버되도록 조정

### 7. 게임 시작 화면 추가
**프롬프트:**
> 바로 게임을 시작하는게 아니라, 게이트가 있어서 시작하기! 를 누르면 시작했으면 좋겠어

**처리 내용:**
- 시작 화면 컴포넌트 추가
- "시작하기!" 버튼 구현
- 화면 전환 로직 구현
- 시작 화면 스타일링 (큰 타이틀, 설명 텍스트)

### 8. 게임 오버 화면 추가
**프롬프트:**
> 게임 오버시에도 게임 오버 페이지로 바뀌었음 좋겠어 결과 보고와 함께

**처리 내용:**
- 게임 오버 화면 컴포넌트 추가
- 최종 레벨 및 최종 점수 표시
- 결과 박스 디자인
- "다시 시작" 버튼으로 시작 화면 복귀
- 화면 전환 플로우 완성: 시작 → 게임 → 게임오버 → 시작

### 9. 찬스 시스템 추가
**프롬프트:**
> 찬스가 3회정도 있었으면 좋겠어 찬스를 클릭하면 다른 색의 타일이 표시될 수 있도록 해줘

**처리 내용:**
- 찬스 버튼 UI 추가 (💡 아이콘 + 남은 횟수 표시)
- 찬스 시스템 로직 구현
  - 게임당 3회 제공
  - 클릭 시 정답 타일에 1초간 황금색 발광 효과
  - 펄스 애니메이션 적용
- 찬스 소진 시 버튼 비활성화
- 게임 재시작 시 찬스 횟수 초기화
- CSS 애니메이션 추가 (pulse keyframes, 발광 효과)

### 10. 모바일 반응형 디자인 추가
**프롬프트:**
> 모바일 반응형 고려해줘

**처리 내용:**
- 컨테이너 최대 너비 설정 (600px) 및 반응형 너비 (90%)
- 768px 이하 (태블릿) 미디어 쿼리
  - 게임 정보 세로 배치 (flex-direction: column)
  - 찬스 버튼 너비 100%로 확장
  - 폰트 크기 및 패딩 조정
  - 결과 박스 세로 배치
- 480px 이하 (모바일) 미디어 쿼리
  - 더 작은 폰트 크기
  - 게임 보드 간격 최소화 (5px)
  - 패딩 축소 (15px)
  - 제목 및 버튼 크기 최적화

### 11. 난이도 밸런스 조정 (1차)
**프롬프트:**
> 라운드별 난이도를 조절해줘 지금 난이도 넘어갈 때 너무 어려워지는 것 같아 조금만 난이도를 낮추자

**처리 내용:**
- 그리드 크기 증가 속도 완화
  - 2레벨마다 증가 → 3레벨마다 증가
- 색상 차이 감소 속도 완화
  - 레벨당 5씩 감소 → 레벨당 3씩 감소
  - 레벨 1: 50, 레벨 2: 47, 레벨 3: 44...
- 최소 색상 차이 하한선 상향
  - 5 → 8 (너무 어려워지지 않도록 조정)

### 12. 난이도 밸런스 조정 (2차)
**프롬프트:**
> 난이도를 더 낮춰줘 20단계는 거뜬하게 넘을 수 있었으면 좋겠어

**처리 내용:**
- 그리드 크기 증가 속도 추가 완화
  - 3레벨마다 증가 → 5레벨마다 증가
  - 최대 그리드 크기 8x8 → 6x6로 제한
- 색상 차이 초기값 상향 및 감소율 조정
  - 초기값: 50 → 60
  - 레벨당 3씩 감소 → 2씩 감소
  - 최소 색상 차이: 8 → 15
- 20레벨 이상 도달 가능하도록 난이도 커브 조정

### 13. 초반 난이도 추가 완화
**프롬프트:**
> 낮은 난이도에서 색깔의 차이가 더욱 더 극명했으면 좋겠어

**처리 내용:**
- 색상 차이 초기값 대폭 상향
  - 레벨 1: 60 → 80
- 색상 차이 감소율 조정
  - 레벨당 2씩 감소 → 3씩 감소
- 초반 레벨에서 색상 구분이 매우 명확하도록 조정

### 14. 색상 체계 변경 (RGB → HSL)
**프롬프트:**
> rgb 말고 다른 색상 기준으로 하면 안돼

**처리 내용:**
- RGB 색상 체계에서 HSL 색상 체계로 전환
- HSL 색상 생성 로직 구현
  - Hue: 0-360도 (색상)
  - Saturation: 50-100% (채도)
  - Lightness: 40-80% (밝기)
- Hue 값 조정으로 색상 차이 표현
  - 더 자연스럽고 균일한 색상 차이 제공
- `hsl()` 형식으로 CSS 색상 출력

### 15. 콤보 & 피버 모드 시스템 추가
**프롬프트:**
> 피버 기능이 있었으면 좋겠어! 연속적으로 성공하면 콤보가 쌓이고, 콤보가 일정수준 쌓이면 피버모드에 돌입해서 쌓이는 점수가 더 빨리 쌓였으면 좋겠어. 근데 틀린 답을 고르거나 한 라운드에서 시간을 좀 지체하면 콤보가 0으로 돌아가고 피버가 끊기도록해줘

**처리 내용:**
- 콤보 시스템 구현
  - 라운드 시작 시간 기록
  - 3초 이내 정답 시 콤보 증가
  - 3초 초과 또는 오답 시 콤보 리셋
- 피버 모드 시스템
  - 5콤보 달성 시 피버 모드 진입
  - 피버 모드 중 점수 2배 적용
  - 콤보 리셋 시 피버 모드 종료
- UI 추가
  - 콤보 카운터 표시 (그라디언트 배경 + 펄스 애니메이션)
  - 피버 모드 바 (발광 애니메이션 + 슬라이딩 효과)
  - FEVER MODE 텍스트 표시
- 점수 메시지에 피버 모드 보너스 표시

### 16. 피버 모드 레이아웃 개선
**프롬프트:**
> 피버모드일 때 표시가 생기면서 레이아웃 시프트 현상이 발생해. 이 현상을 개선했으면 좋겠고, 피버모드일 때 밝기가 반복적으로 변하는 시각 효과가 있는데, 이게 오히려 게임에 방해되니까 없었으면 좋겠어

**프롬프트:**
> 피버모드가 풀렸다가 다시 피버모드가 되었을 때 레이아웃이 좀 이상한데?

**처리 내용:**
- 레이아웃 시프트 제거
  - 피버 바를 항상 DOM에 유지
  - `opacity`와 `max-height`로 표시/숨김 처리
  - `margin-bottom` 애니메이션 추가
- 게임 방해 효과 제거
  - 게임 보드 밝기 변화 애니메이션 삭제
- 부드러운 전환 효과
  - 0.3초 transition으로 자연스러운 등장/퇴장
- 피버 모드 재진입 시 레이아웃 일관성 유지
  - `enterFeverMode`에서 `margin-bottom` 복원 로직 추가

### 17. Supabase 랭킹 시스템 구현
**프롬프트:**
> 랭킹 기능을 만들고 싶어 supabase 연동해서. 필요한 작업과 내가 해야하는 작업들을 알려주겠니

**처리 내용:**
- Supabase 클라이언트 라이브러리 추가 (CDN)
- Supabase 초기화 코드 작성 (URL, API Key)
- 게임오버 화면에 닉네임 입력 UI 추가
- 점수 저장 함수 구현 (`submitScore`)
- 랭킹 조회 함수 구현 (`showRanking`)
- 랭킹 화면 UI 생성
  - TOP 10 랭킹 테이블
  - 1~3위 메달 표시 (🥇🥈🥉)
  - 플레이어명, 점수, 레벨 표시
- 랭킹 화면 스타일링 (반응형)
- 버튼 추가: "랭킹 등록", "🏆 랭킹 보기", "돌아가기"

### 18. 메인 화면 랭킹 미리보기 추가
**프롬프트:**
> 메인페이지에서 현재 랭킹 실황을 볼 수 있었으면 해

**처리 내용:**
- 시작 화면에 랭킹 미리보기 섹션 추가
- TOP 3 랭킹 자동 로드 (`loadRankingPreview`)
- 메달과 점수를 간결하게 표시하는 프리뷰 카드 디자인
- 게임 재시작 시 랭킹 자동 새로고침
- 그라데이션 배경의 미리보기 컨테이너 스타일링
- 반응형 레이아웃 적용 (모바일 대응)

### 19. Supabase 보안 관련 질문
**프롬프트:**
> 지금 수파베이스 키가 너무 공개적으로 js 파일에 명시되어있는데, env로 떼는 방법 없어?

**처리 내용:**
- Supabase anon key는 공개되어도 안전함을 안내
- RLS(Row Level Security) 정책으로 보안 처리됨을 설명
- 환경변수 사용을 위한 백엔드 추가 방법 제시
- 현재 구조 유지 권장 (정적 사이트에 적합)

---

## 🚀 실행 방법

### 로컬 실행
```bash
# 파일을 다운로드한 후
open index.html
# 또는 브라우저에서 index.html 파일 열기
```

### Supabase 설정 (랭킹 기능 사용 시)
1. [Supabase](https://supabase.com) 프로젝트 생성
2. SQL Editor에서 테이블 생성:
```sql
CREATE TABLE rankings (
  id BIGSERIAL PRIMARY KEY,
  player_name TEXT NOT NULL,
  score INTEGER NOT NULL,
  level INTEGER NOT NULL,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX idx_rankings_score ON rankings(score DESC);
```
3. RLS 정책 설정:
```sql
CREATE POLICY "Anyone can read rankings"
ON rankings FOR SELECT TO public USING (true);

CREATE POLICY "Anyone can insert rankings"
ON rankings FOR INSERT TO public WITH CHECK (true);
```
4. `game.js`에서 Supabase URL과 anon key 교체

---

## 📊 게임 통계
- **최고 난이도**: 20레벨 이상 도달 가능
- **콤보 시스템**: 3초 내 정답 시 콤보 증가
- **피버 모드**: 5콤보 달성 시 점수 2배
- **찬스 제공**: 게임당 3회

## 📸 스크린샷
*(스크린샷을 추가하세요)*

## 🔗 링크
- **게임 플레이**: [여기에 배포 URL 추가]
- **개발자**: [GitHub 프로필]

## 📄 라이선스
MIT License

---

**🎨 Made with Claude Code - AI Pair Programming**
